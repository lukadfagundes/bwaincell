# GitHub Repository Configuration

## Required Manual Steps

### 1. Add Repository Topics

Go to your repository Settings → About → Topics and add:

- Language topics: javascript, typescript, nodejs, discord-bot
- Framework topics: discord.js, sqlite, sequelize
- Purpose topics: ci-cd, automation, testing, bot

### 2. Configure Secrets

Go to Settings → Secrets and variables → Actions and add:

| Secret Name     | Description                           | Required |
| --------------- | ------------------------------------- | -------- |
| DISCORD_WEBHOOK | Discord webhook URL for notifications | Optional |
| GIST_SECRET     | GitHub PAT for gist creation          | Optional |
| CODECOV_TOKEN   | Codecov.io token                      | Optional |
| BOT_TOKEN       | Discord bot token for testing         | Optional |

### 3. Enable GitHub Pages (if needed)

Settings → Pages → Source: Deploy from branch → Branch: gh-pages

### 4. Configure Branch Protection

Settings → Branches → Add rule:

- Branch name pattern: main
- Require status checks to pass before merging
- Require branches to be up to date before merging
- Require pull request reviews before merging
- Include administrators

### 5. Configure Branch Protection for Development

Settings → Branches → Add rule:

- Branch name pattern: dev
- Require status checks to pass before merging
- Require branches to be up to date before merging

### 6. Verify Workflows

After pushing, check the Actions tab to ensure workflows are running correctly.

## Available Workflows

### CI Pipeline (ci.yml)

- Runs on push to main/dev branches and pull requests
- Node.js matrix testing (18.x, 20.x)
- Linting with ESLint
- Type checking with TypeScript
- Testing with Jest
- Code coverage reporting
- Dependency vulnerability scanning
- Performance monitoring

### CodeQL Analysis (codeql.yml)

- Security vulnerability scanning
- Code quality analysis
- Automated security alerts

### Dashboard Deployment (deploy-dashboard.yml)

- Deploys Trinity dashboard
- Generates project metrics
- Updates documentation

## Repository Structure

```
.github/
├── workflows/
│   ├── ci.yml                  # Main CI/CD pipeline
│   ├── codeql.yml             # Security scanning
│   └── deploy-dashboard.yml    # Dashboard deployment
├── scripts/
│   ├── calculate-readiness.js  # Project readiness metrics
│   ├── enforce-merge-gate.js   # Quality gate enforcement
│   └── generate-dashboard-data.js # Dashboard data generation
└── SETUP_GITHUB.md            # This file

.vscode/
└── settings.json              # VS Code configuration

.pre-commit-config.yaml        # Git hooks configuration
```

## Local Development Commands

### Testing

```bash
npm test                    # Run all tests
npm run test:coverage      # Run tests with coverage
npm run test:watch         # Watch mode for testing
```

### Code Quality

```bash
npm run lint               # Check code style
npm run lint:fix           # Fix code style issues
npm run typecheck          # TypeScript type checking
```

### Build & Deploy

```bash
npm run build              # Compile TypeScript
npm run start              # Start the bot
npm run deploy             # Deploy Discord commands
```

### Pre-commit Hooks

```bash
pre-commit run --all-files  # Run all hooks on all files
pre-commit install          # Install git hooks
```

## Troubleshooting

### Workflow Failures

1. Check the Actions tab for detailed logs
2. Ensure all required secrets are configured
3. Verify Node.js version compatibility
4. Check for TypeScript compilation errors

### Pre-commit Hook Issues

```bash
pre-commit clean           # Clean hook cache
pre-commit install --force # Reinstall hooks
```

### Discord Bot Setup

1. Ensure BOT_TOKEN is set in environment variables
2. Bot needs proper permissions in Discord server
3. Check deploy-commands.js for slash command registration

## Support

For issues with the CI/CD pipeline:

1. Check workflow logs in GitHub Actions
2. Review trinity-dashboard for reference configuration
3. Consult Trinity Method documentation
4. Check Discord.js documentation for bot-specific issues

---

_Configuration guide generated by Trinity CI/CD Deployment v1.0_
