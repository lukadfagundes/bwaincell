# =============================================================================
# Bwaincell Frontend Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# Production values should be set in Vercel dashboard (not committed to Git)
# =============================================================================

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
# OPTIONAL: Only needed if frontend needs to call Discord bot's Express API
# In most cases, leave this unset - auth and data are handled by Next.js API routes
# Development: http://localhost:3000 (local Discord bot backend)
# Production: Not needed - bot calls Vercel's Next.js API routes instead
# NEXT_PUBLIC_API_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# NextAuth Configuration
# -----------------------------------------------------------------------------
# The URL of your frontend application
# Development: http://localhost:3010
# Production: https://bwaincell.sunny-stack.com
NEXTAUTH_URL=http://localhost:3010

# NextAuth secret for JWT encryption
# Generate with: openssl rand -base64 32
# IMPORTANT: Use the same secret in production to maintain session continuity
NEXTAUTH_SECRET=your-nextauth-secret-here

# -----------------------------------------------------------------------------
# Google OAuth 2.0 Credentials
# -----------------------------------------------------------------------------
# Get these from: https://console.cloud.google.com/apis/credentials
# IMPORTANT: These must match the credentials used in the Bwaincell backend
# Add authorized redirect URIs in Google Console:
#   - Development: http://localhost:3010/api/auth/callback/google
#   - Production: https://bwaincell.sunny-stack.com/api/auth/callback/google

# Public client ID (used in browser)
NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# Server-side credentials (never exposed to browser)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL database connection string for Prisma
# Next.js API routes connect DIRECTLY to the database (no backend API needed)
# Development: Use localhost or Pi IP address
# Production: Use db.bwaincell.sunny-stack.com with port forwarding (port 5433)
# Note: Port 5433 is used to avoid conflict with sunny-stack DB (port 5432)
#
# Format: postgresql://username:password@host:5433/database
# Development example: postgresql://bwaincell:password@192.168.1.19:5433/bwaincell
# Production example: postgresql://bwaincell:password@db.bwaincell.sunny-stack.com:5433/bwaincell
DATABASE_URL=postgresql://bwaincell:password@localhost:5433/bwaincell

# -----------------------------------------------------------------------------
# User and Guild Mapping Configuration
# -----------------------------------------------------------------------------
# Discord Guild (Server) ID
# Get this from Discord: Right-click server → Copy Server ID (Developer Mode required)
GUILD_ID=your-discord-guild-id

# Primary user email and Discord ID mapping
EMAIL=your-email@example.com
{DISCORD_USER_NAME_#1}_DISCORD_ID=your-discord-user-id

# Secondary user email and Discord ID mapping (optional)
{DISCORD_USER_NAME_#2}_EMAIL=second-user@example.com
{DISCORD_USER_NAME_#2}_DISCORD_ID=second-discord-user-id

# =============================================================================
# Production Deployment Notes (Vercel)
# =============================================================================
# Architecture: Frontend + API on Vercel, Discord Bot + Database on Pi
# - Frontend: Vercel hosts the Next.js app at https://bwaincell.sunny-stack.com
# - API: Next.js API routes connect DIRECTLY to PostgreSQL database
# - Bot: Runs on Pi, connects to local PostgreSQL database
# - Database: PostgreSQL on Pi (exposed via db.bwaincell.sunny-stack.com)
#
# 1. Set these environment variables in Vercel dashboard:
#    NEXTAUTH_URL=https://bwaincell.sunny-stack.com
#    NEXTAUTH_SECRET=(same as development for session continuity)
#    GOOGLE_CLIENT_ID=(your Google OAuth client ID)
#    GOOGLE_CLIENT_SECRET=(your Google OAuth secret)
#    NEXT_PUBLIC_GOOGLE_CLIENT_ID=(same as GOOGLE_CLIENT_ID)
#    DATABASE_URL=postgresql://bwaincell:password@db.bwaincell.sunny-stack.com:5433/bwaincell
#    GUILD_ID=(your Discord guild ID)
#    {DISCORD_USER_NAME_#1}_EMAIL=(primary user email)
#    {DISCORD_USER_NAME_#1}_DISCORD_ID=(primary user Discord ID)
#    {DISCORD_USER_NAME_#2}_EMAIL=(secondary user email - optional)
#    {DISCORD_USER_NAME_#2}_DISCORD_ID=(secondary user Discord ID - optional)
#
# 2. Update Google OAuth authorized redirect URIs:
#    https://bwaincell.sunny-stack.com/api/auth/callback/google
#
# 3. Set up DNS CNAME for db.bwaincell.sunny-stack.com pointing to your Pi
#
# 4. Configure Pi port forwarding: Port 5433 (PostgreSQL) → Pi IP:5433
#    Note: Port 5433 is used to avoid conflict with sunny-stack DB (port 5432)
#
# 5. Configure PostgreSQL to accept external connections:
#    - Edit postgresql.conf: listen_addresses = '*'
#    - Edit pg_hba.conf: Add entry for Vercel connections
# =============================================================================
